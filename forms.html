<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Marketo Forms POC</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.3.1/css/foundation.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/marketo_shame.css">
      <script src="//app-sj17.marketo.com/js/forms2/js/forms2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.3.4/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body>

    <nav class="Navigation">
        <h2 class="Navigation-title">Navigation Bar</h2>
        <img class="Navigation-hamburger" src="https://cdn4.iconfinder.com/data/icons/wirecons-free-vector-icons/32/menu-alt-512.png"
            alt="Humburger Icon" width="40"></nav>
    </nav>

    <div class="Sticky">
        <header class="Sticky-header">
            <p class="Sticky-title">Request a demonstration</p>
            <button class="Sticky-button">+</button>
        </header>
        <p class="Sticky-description">
            Description of the process of requesting a demonstration.
        </p>
        <div class="Sticky-embed">
            <!-- embedded code here -->
            <form id="mktoForm_1143"></form>
            <iframe class="Sticky-iframe" id="myIframe"></iframe>
        </div>
        <footer class="Sticky-footer">
            <a class="Sticky-link" href="#">Get in touch with XumaK</a>
            <address class="Sticky-number">1-800-xxx-xxxx</address>
            <p class="Sticky-text">Phone support is available: 8am - 6pm, M - F</p>
        </footer>
    </div>

    <div class="Container">
        <div class="row">
            <div class="small-12 columns">

                <div class="Header">
                    <h1>This is the Header of the page</h1>
                    <p>This is a short description that goes on the header. It could have several lines of height so we must
                        place a limit so the authors don't get too excited writing stuff</p>
                    <a class="Cta Cta--red" href="#">Learn more</a>
                </div>

            </div>
        </div>

        <div class="row">
            <div class="small-12 columns">

                <div class="Content">
                    <h2>This is dummy content</h2>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Labore quasi sequi voluptas dolor expedita debitis, illo veritatis
                        temporibus molestiae commodi modi eos eum inventore sit voluptatum voluptatibus qui distinctio repellendus.
                    </p>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Labore quasi sequi voluptas dolor expedita debitis, illo veritatis
                        temporibus molestiae commodi modi eos eum inventore sit voluptatum voluptatibus qui distinctio repellendus.
                    </p>
                </div>

            </div>
        </div>

        <div class="row">
            <div class="small-12 columns">

                <div class="Content">
                    <h2>This is dummy more content</h2>
                    <img src="http://placehold.it/800x600" alt="Placeholder image">
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Labore quasi sequi voluptas dolor expedita debitis, illo veritatis
                        temporibus molestiae commodi modi eos eum inventore sit voluptatum voluptatibus qui distinctio repellendus.
                    </p>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Labore quasi sequi voluptas dolor expedita debitis, illo veritatis
                        temporibus molestiae commodi modi eos eum inventore sit voluptatum voluptatibus qui distinctio repellendus.
                    </p>
                </div>

            </div>
        </div>
    </div>

    <script>
        /*
        new Vue({
            el: '.Sticky',
            data: {
                title: 'Request a demonstration',
                description: 'Description of the process of requesting a demonstration.',
                linkText: 'Get in touch with XumaK',
                linkUrl: '#',
                phone: '1-800-xxx-xxxx',
                active: false
            },
            methods: {
                displayForm: function() {
                    this.active = !this.active;
                }
            }
        });
    */
        (function () {

            var btn = document.querySelector('.Sticky-button');
            var cont = document.querySelector('.Sticky');

            btn.addEventListener('click', toggleBox, false);

            function toggleBox() {
                cont.classList.toggle('Sticky--isActive');
            }

        })();
    </script>

    <script>
        MktoForms2.loadForm("http://app-sj17.marketo.com/", "190-MUJ-358", 1143, function (form) {
            // Add an onSuccess handler
            form.onSuccess(function (values, followUpUrl) {
                // Get the form's jQuery element and hide it
                form.getFormElem().hide();
                // load iframe content
                var iframe = document.getElementById('myIframe');
                iframe.src = followUpUrl;
                iframe.style.display = "block";

                // Return false to prevent the submission handler from taking the lead to the follow up url
                return false;
            });
        });
    </script>

    <script>
        (function () {
            setTimeout(captureForm, 2000);

            function captureForm() {
                var form = document.querySelector('.mktoForm') || null;
                if (form) {
                    var input_array = [].slice.call(document.querySelectorAll('.mktoField'));

                    for (var i = 0; i < input_array.length; i++) {
                        input_array[i].addEventListener('focus', displayFocus, false);
                        input_array[i].addEventListener('blur', displayBlur, false);
                    }
                }
            }

            function displayFocus(e) {
                var elem = e.currentTarget;
                var parent_elem = elem.parentElement;
                parent_elem.querySelector('.mktoLabel').classList.add('isFocused');
            }

            function displayBlur(e) {

                var elem = e.currentTarget;

                var parent_elem = elem.parentElement;
                parent_elem.querySelector('.mktoLabel').classList.remove('isFocused');
                /**/
            }

        })();
    </script>
</body>

</html>